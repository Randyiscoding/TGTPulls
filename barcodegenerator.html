<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Barcode Generator (under construction)</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Required for BarcodeFont to work -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Libre+Barcode+128&display=swap" rel="stylesheet">
    <!-- End Requirement -->
    <link rel="stylesheet" href="default.css">

</head>
<body>
<!-- Todo: update CSS to match (drop down menu looks crazy)-->
<!-- Todo: add keep screen awake coding -->
<h1>Barcode Generator (under construction)</h1>

<div class="container">


    <label for="category">Choose Category</label>
    <select name="location" id="category" onchange="updateBarcode()">
        <option value="backroom">Backroom</option>
        <option value="OPU">OPU / Drive-Up Cart</option>
    </select>

    <label for="locator">Location or Cart Name</label>
    <input type="text" id="locator" oninput="updateBarcode()">

    <div id="results" class="result-box">
        <p><b>Barcode: Do not type "SHP" for drive up carts</b><p/><p><span id="boom" class="libre-barcode-128-regular"></span></p>
        <!-- <p><b>Adjusted for Guest Shopping:</b> <span id="bufferPulls"></span></p>
        <p><b>Staffing Recommendation:</b> <span id="staffRec"></span></p> -->
    </div>
</div>

<script>
function updateBarcode() {
    const location = document.getElementById("locator").value.trim();
    const selected = document.getElementById("category").value;

    // Only show results if there's a selection + location text
    if (!selected || location === "") {
        document.getElementById("results").style.display = "none";
        return;
    }

    let prefix = "";

    if (selected.value === "backroom") prefix = "L";
    if (selected.value === "OPU") prefix = "SHP";

    const barcode = prefix + location;

    document.getElementById("boom").innerText = `*${barcode}*`;
    document.getElementById("results").style.display = "block";

    // Fill in stub values for other fields (can update later)
    //document.getElementById("bufferPulls").innerText = "Coming Soon";
    //document.getElementById("staffRec").innerText = "Coming Soon";
}

</script>

</body>
</html>
